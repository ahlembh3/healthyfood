<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}Accueil{% endblock %} - Santé & Nature</title>
    {% block stylesheets %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
              crossorigin="anonymous">
        <link rel="stylesheet" href="{{ asset('css/form_recette.css') }}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    {% endblock %}
</head>
<body>
<!-- Menu principal -->
{% include 'partials/_header.html.twig' %}

<!-- Contenu du site -->
{% block body %}
    <main>
        <!-- Titre de la page -->
        <div class="p-5 mx-auto text-center">
            <h1 class="display-4">{% block page_title %}Bienvenue sur healthyfood{% endblock %}</h1>
        </div>

        <!-- Contenu de la page -->
        <div class="py-5 bg-light">
            <div class="container">{% block content %}{% endblock %}</div>
        </div>
    </main>
{% endblock %}

<!-- Pied de page -->
{% include 'partials/_footer.html.twig' %}

<!-- Javascripts -->
{% block javascripts %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
            crossorigin="anonymous"></script>

    <!-- TinyMCE 4.x sans clé API -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Configuration de TinyMCE 4.x
            tinymce.init({
                selector: '.tinymce-editor',
                height: 300,
                plugins: [
                    'advlist autolink lists link image charmap print preview anchor',
                    'searchreplace visualblocks code fullscreen',
                    'insertdatetime media table contextmenu paste'
                ],
                toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',
                menubar: false, // Cache le menu pour une interface plus simple
                statusbar: false, // Cache la barre de status
                setup: function (editor) {
                    editor.on('change', function () {
                        editor.save();
                    });
                }
            });

            // Activer TinyMCE sur #article_contenu si présent
            const articleEditor = document.getElementById('article_contenu');
            if (articleEditor && !articleEditor.classList.contains('tinymce-editor')) {
                articleEditor.classList.add('tinymce-editor');
                tinymce.init({
                    selector: '#article_contenu',
                    height: 300,
                    plugins: [
                        'advlist autolink lists link image charmap print preview anchor',
                        'searchreplace visualblocks code fullscreen',
                        'insertdatetime media table contextmenu paste'
                    ],
                    toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',
                    menubar: false,
                    statusbar: false
                });
            }
        });
    </script>
{% endblock %}
</body>
</html>