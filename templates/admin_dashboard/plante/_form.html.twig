{# Thème Bootstrap 5 si tu l’utilises ailleurs #}
{% form_theme form 'bootstrap_5_layout.html.twig' %}

<div class="card border-0 shadow-sm">
    <div class="card-body">
        <h2 class="h5 mb-4">{{ title|default('Plante') }}</h2>

        {{ form_start(form, { attr: { novalidate: 'novalidate', class: 'needs-validation' } }) }}

        {% if form.vars.submitted and not form.vars.valid %}
            <div class="alert alert-danger" role="alert">Veuillez corriger les erreurs ci-dessous.</div>
        {% endif %}

        <div class="mb-3">
            {{ form_label(form.nomCommun) }}
            {{ form_widget(form.nomCommun, { attr: { class: 'form-control' } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.nomCommun) }}</div>
        </div>

        <div class="mb-3">
            {{ form_label(form.nomScientifique) }}
            {{ form_widget(form.nomScientifique, { attr: { class: 'form-control' } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.nomScientifique) }}</div>
        </div>

        <div class="mb-3">
            {{ form_label(form.description) }}
            {{ form_widget(form.description, { attr: { class: 'form-control', rows: 5 } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.description) }}</div>
        </div>

        <div class="mb-3">
            {{ form_label(form.partieUtilisee) }}
            {{ form_widget(form.partieUtilisee, { attr: { class: 'form-control' } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.partieUtilisee) }}</div>
        </div>

        <div class="mb-3">
            {{ form_label(form.precautions) }}
            {{ form_widget(form.precautions, { attr: { class: 'form-control', rows: 4 } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.precautions) }}</div>
        </div>

        <div class="mb-3">
            {{ form_label(form.bienfaits) }}
            {{ form_widget(form.bienfaits, { attr: { class: 'form-select', multiple: true } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.bienfaits) }}</div>
        </div>

        <div class="mb-3">
            {{ form_label(form.imageFile) }}
            {{ form_widget(form.imageFile, { attr: { class: 'form-control', accept: 'image/*' } }) }}
            <div class="invalid-feedback d-block">{{ form_errors(form.imageFile) }}</div>
            {% if plante is defined and plante.image %}
                <div class="mt-2">
                    <img src="{{ asset('uploads/plantes/' ~ plante.image) }}" alt="Image actuelle" class="img-thumbnail" style="max-height:160px">
                </div>
            {% endif %}
        </div>

        <div class="d-flex justify-content-end">
            <button class="btn btn-primary">{{ btn_label|default('Enregistrer') }}</button>
        </div>

        {{ form_end(form) }}
    </div>
</div>
