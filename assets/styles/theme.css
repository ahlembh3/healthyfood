/* =========================================================
   theme.css — Santé & Nature (mobile-first, responsive)
   Palette, typo, accessibilité, dark mode
   ========================================================= */

/* ---------- Variables ---------- */
:root{
    /* Couleurs */
    --c-vert:#5c9a74;
    --c-vert-dark:#2f6148;
    --c-beige:#f6f3ee;
    --c-blanccasse:#FAFAFA;
    --c-texte:#1B1F23;
    --c-gris:#6B7280;

    /* Typo */
    --font-title:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
    --font-text:"Open Sans",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;

    /* Layout */
    --site-max:1200px;
    --content-max:1080px;
    --site-pad:16px;

    /* UI */
    --shadow:0 8px 20px rgba(0,0,0,.08);
    --radius:.75rem;
    --tap-size:44px;

    /* Slider */
    --hf-gap:16px;
}
@media (max-width:360px){ :root{ --site-pad:12px; } }
@media (min-width:1400px){ :root{ --site-pad:24px; } }

/* ---------- Dark mode ---------- */
:root.dark{
    color-scheme:dark;
    --c-beige:#0F1115;
    --c-blanccasse:#181B21;
    --c-texte:#EAEAEA;
    --c-gris:#9CA3AF;
    --shadow:0 8px 20px rgba(0,0,0,.25);
}

/* ---------- Base ---------- */
html,body{ height:100%; }
body{
    background:var(--c-beige);
    color:var(--c-texte);
    font-family:var(--font-text);
    line-height:1.6;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}
h1,h2,h3,.navbar-brand,.btn,.hero-title{ font-family:var(--font-title); font-weight:600; }

h1{ font-size:clamp(1.6rem,5.5vw,2.4rem); }
h2{ font-size:clamp(1.4rem,4.2vw,2rem); }
h3{ font-size:clamp(1.2rem,3.8vw,1.7rem); }
p,li{ font-size:clamp(1rem,3.5vw,1.1rem); }

a{ text-decoration:none; color:var(--c-vert-dark); transition:color .2s ease; }
a:hover{ color:var(--c-vert); }
:focus-visible{ outline:3px solid var(--c-vert); outline-offset:2px; border-radius:.35rem; }

img{ max-width:100%; height:auto; }
.cover{ width:100%; height:100%; object-fit:cover; object-position:center; }
.ratio-16x9{ aspect-ratio:16/9; }
.ratio-4x3 { aspect-ratio:4/3; }
.ratio-1x1 { aspect-ratio:1/1; }
.media-fill{ display:block; width:100%; height:100%; object-fit:cover; object-position:center; }
.tea-img{ max-height:420px; object-fit:cover; }
.tea-img--sm{ max-height:320px; object-fit:cover; }
.img-center{ margin-inline:auto; }

*{ transition: color .2s ease, background-color .2s ease, border-color .2s ease, box-shadow .2s ease, transform .2s ease; }
:root.reduce-motion *{ transition:none !important; }

/* ---------- Conteneurs ---------- */
.container-site{
    width:min(var(--site-max), 100% - 2*var(--site-pad));
    margin-inline:auto; padding-inline:var(--site-pad);
}
.container-content{
    width:min(var(--content-max), 100% - 2*var(--site-pad));
    margin-inline:auto; padding-inline:var(--site-pad);
}
.section-fw{ width:100%; }

/* ---------- Header ---------- */
.site-header{
    background:var(--c-blanccasse);
    border-bottom:1px solid rgba(0,0,0,.08);
    padding:1rem 0; position:relative; z-index:100;
}
:root.dark .site-header{ background:#181B21; border-bottom-color:#2A2F3A; }

.site-header .container-site{
    display:flex; justify-content:space-between; align-items:center; gap:1rem;
}

.navbar-brand{
    display:flex; align-items:center; gap:.6rem;
    font-size:1.1rem; font-weight:700; color:var(--c-vert-dark);
}
:root.dark .navbar-brand{ color:var(--c-vert); }
.brand-logo{ height:40px; width:auto; display:block; }
.brand-text{ line-height:1; }

.nav-toggle{
    display:flex; flex-direction:column; justify-content:space-around;
    width:32px; height:26px; background:transparent; border:none; cursor:pointer; padding:0;
}
.nav-toggle span{ width:100%; height:3px; background:var(--c-texte); border-radius:2px; }
:root.dark .nav-toggle span{ background:var(--c-texte); }

.nav-main{
    position:absolute; top:100%; left:0; right:0;
    background:var(--c-blanccasse);
    display:flex; flex-direction:column; gap:.5rem;
    padding:1rem; box-shadow:0 8px 20px rgba(0,0,0,.08);
    transform:translateY(-10px); opacity:0; visibility:hidden;
}
:root.dark .nav-main{ background:#181B21; box-shadow:0 8px 20px rgba(0,0,0,.25); }
.nav-main.active{ transform:translateY(0); opacity:1; visibility:visible; }

.nav-link{
    color:var(--c-texte); font-weight:500; padding:.6rem 0; border-bottom:1px solid rgba(0,0,0,.08);
}
.nav-link:last-child{ border-bottom:none; }
.site-header .nav-main .nav-link,
.site-header .nav-main .nav-link:hover,
.site-header .nav-main .nav-link:focus,
.site-header .nav-main .nav-link:active{ text-decoration:none !important; }

/* ---------- Hero ---------- */
.hero-banner{ width:100%; background-size:cover; background-position:center; position:relative; margin-bottom:2rem; }
.hero-banner::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(90deg, rgba(246,243,238,.9) 0%, rgba(246,243,238,.7) 50%, rgba(246,243,238,.3) 100%);
    z-index:1;
}
:root.dark .hero-banner::after{
    background:linear-gradient(90deg, rgba(15,17,21,.85) 0%, rgba(15,17,21,.65) 50%, rgba(15,17,21,.3) 100%);
}
.hero-content{ position:relative; z-index:2; padding:3rem var(--site-pad); max-width:var(--content-max); margin:0 auto; }
.hero-title{ font-size:clamp(1.4rem,6vw,1.8rem); font-weight:700; line-height:1.2; }

/* ---------- Grilles / contenu ---------- */
.main-content{ padding:2rem 0; }
.content-grid{ display:grid; grid-template-columns:1fr; gap:2rem; }

/* ---------- Cards & boutons ---------- */
.card{
    background:var(--c-blanccasse);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    border:none; overflow:hidden;
    transition:transform .2s ease, box-shadow .2s ease;
}
.card:hover{ transform:translateY(-3px); box-shadow:0 12px 28px rgba(0,0,0,.12); }
.card-header{ background:var(--c-vert); color:#fff; padding:1rem 1.25rem; font-weight:600; }
.card-body{ padding:1.1rem; }
.card.h-100 .card-body{ display:flex; flex-direction:column; }

.btn{
    border-radius:var(--radius);
    min-height:var(--tap-size);
    padding:.6rem 1rem;
    box-shadow:var(--shadow);
    text-decoration:none !important;
    width:100%;
}
.btn-primary{ background:var(--c-vert); border-color:var(--c-vert); }
.btn-primary:hover,.btn-primary:focus{ background:var(--c-vert-dark); border-color:var(--c-vert-dark); }
.btn-outline-primary{ color:var(--c-vert-dark); border-color:var(--c-vert); }
.btn-outline-primary:hover,.btn-outline-primary:focus{ color:#fff; background:var(--c-vert-dark); border-color:var(--c-vert-dark); }

.btn-icon{
    padding:.35rem .45rem;
    width:2.25rem; height:2.25rem;
    display:inline-flex; align-items:center; justify-content:center;
    line-height:1; border-radius:.5rem;
}
.btn-icon .bi{ font-size:1rem; }

/* ---------- Footer ---------- */
.site-footer{ background:var(--c-vert-dark); color:#fff; padding:2rem 0; margin-top:3rem; }
.site-footer a{ color:#fff; opacity:.9; }
.site-footer a:hover{ opacity:1; text-decoration:underline; }
.footer-content{ display:flex; flex-direction:column; gap:1.5rem; }
.footer-nav{ display:flex; gap:1.5rem; flex-wrap:wrap; justify-content:center; }

/* ---------- Accessibilité ---------- */
.skip-link{
    position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
    left:1rem; top:1rem; width:auto; height:auto; padding:.5rem .75rem;
    background:#000; color:#fff; z-index:10000; border-radius:.5rem;
}
.a11y-fab{ position:fixed; right:1rem; bottom:calc(1rem + env(safe-area-inset-bottom)); z-index:1050; }
.a11y-fab-btn{
    width:48px; height:48px; padding:0; border:none;
    display:flex; align-items:center; justify-content:center;
    border-radius:50%; background:var(--c-vert); color:#fff; box-shadow:var(--shadow);
    font-size:22px; line-height:1;
}
.a11y-panel{
    position:absolute; right:0; bottom:56px; min-width:200px;
    background:var(--c-blanccasse); border:1px solid rgba(0,0,0,.1);
    border-radius:.75rem; padding:.6rem; backdrop-filter:blur(6px); color:var(--c-texte); box-shadow:var(--shadow);
}
:root.dark .a11y-panel{ background:rgba(24,27,33,.95); border-color:#2A2F3A; }
.a11y-panel[hidden]{ display:none !important; }

/* ---------- Tables admin & actions ---------- */
i.bi, span.bi { font-style: normal; display: inline-block; }
.bi::before { font-family: "bootstrap-icons" !important; }
.table-responsive{ overflow-x:auto; overflow-y:visible; }
.table-responsive .dropdown-menu{ position:absolute; z-index:1051; }
.text-break{ word-wrap:break-word; word-break:break-word; }

.actions{
    display:grid;
    row-gap:.5rem;
    justify-items:start;
    text-align:left !important;
}
.actions .btn{
    width:2.25rem; height:2.25rem; padding:.35rem;
    display:inline-flex; align-items:center; justify-content:center;
    border-radius:.5rem;
}

@media (max-width:360px){
    .card-header{ padding:.75rem .9rem; }
    .card-body{ padding:.9rem; }
    .btn{ padding:.5rem .7rem; min-height:40px; }
    .actions{ row-gap:.35rem; }
    .actions .btn{ width:2rem; height:2rem; padding:.3rem; }
    .table{ font-size:.9rem; }
    .table th,.table td{ padding:.45rem .5rem; }
}
@media (min-width:576px){ .btn{ width:auto; } }
@media (min-width:768px){
    .content-grid{ grid-template-columns:2fr 1fr; }
    .footer-content{ flex-direction:row; justify-content:space-between; align-items:center; }
    .actions{ display:flex; gap:.5rem; justify-content:flex-end; align-items:center; }
}
@media (min-width:992px){
    .brand-logo{ height:56px; }
    .navbar-brand{ gap:.65rem; font-size:1.25rem; }
    .nav-toggle{ display:none; }
    .nav-main{
        position:static; transform:none; opacity:1; visibility:visible;
        box-shadow:none; background:transparent; padding:0;
        flex-direction:row; gap:1.5rem;
    }
    .nav-link{ padding:.5rem 0; border-bottom:none; }
}
@media (min-width:1200px){ .card-body{ padding:1.25rem; } }

/* =========================
   HOME — SLIDER (hf-)
   ========================= */
.hf-slider{ position:relative; }

/* viewport défilant */
.hf-viewport{
    overflow-x:auto; overflow-y:hidden;
    scroll-snap-type:x proximity;            /* + souple que mandatory */
    -webkit-overflow-scrolling:touch;
    touch-action: pan-y;
    max-width:100%;
    padding-bottom:0;
    scrollbar-width:none;                    /* Firefox: cache la scrollbar */
    -ms-overflow-style:none;                 /* IE/Edge legacy */
    position:relative;
}
.hf-viewport::-webkit-scrollbar{ height:0; } /* WebKit: cache la scrollbar */
.hf-viewport::after{ content:none !important; }

/* piste en colonnes (1/2/3 cartes) */
.hf-track{
    display:grid;
    grid-auto-flow:column;
    gap:var(--hf-gap);
    grid-auto-columns:85%;
    padding-inline:2px; /* évite collage bord gauche */
}
@media (min-width:576px){
    .hf-track{ grid-auto-columns:calc((100% - var(--hf-gap))/2); }
}
@media (min-width:992px){
    .hf-track{ grid-auto-columns:calc((100% - 2*var(--hf-gap))/3); }
}

/* snap propre */
.hf-track > .hf-card:last-child{
    scroll-snap-align:end;
    scroll-snap-stop:always;
}

/* carte */
.hf-card{
    position: relative;
    display:flex; flex-direction:column;
    background:#eef6f0;
    border-radius:.75rem; box-shadow:var(--shadow);
    text-decoration:none; color:inherit;
    scroll-snap-align:start; overflow:hidden;
    border:1px solid rgba(0,0,0,.06);
    min-width:0;
}
.hf-card.is-recette{ background:#e9f5ee; }
.hf-card.is-tisane{ background:#eff8ea; }

/* tag, media, texte */
.hf-tag{
    position:absolute; top:.5rem; left:.5rem; z-index:2;
    background:rgba(92,154,116,.95);
    color:#fff; font-weight:600;
    padding:.25rem .6rem; border-radius:.5rem; font-size:.9rem;
    pointer-events:none;
}
.hf-media{ border-bottom:1px solid rgba(0,0,0,.06); }
.hf-body{ padding:.9rem .9rem 1rem; }
.hf-title{ font-size:1rem; margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* flèches — toujours visibles, mieux positionnées */
.hf-nav{
    position:absolute; top:50%; transform:translateY(-50%);
    background:#fff; border:1px solid rgba(0,0,0,.1);
    width:40px; height:40px; border-radius:50%; box-shadow:var(--shadow);
    display:flex; align-items:center; justify-content:center; font-size:1.25rem;
    z-index:20; cursor:pointer; user-select:none;
}
.hf-prev{ left:8px; }   /* au lieu de -6px */
.hf-next{ right:8px; }  /* au lieu de -6px */
@media (max-width:575.98px){
    .hf-nav{ width:34px; height:34px; font-size:1rem; }
}

/* =========================
   HOME — SPOTLIGHT (articles + plantes)
   ========================= */
.home-spotlight{
    display:grid; gap:24px; grid-template-columns: 1fr 1.35fr; align-items:start; margin-top: 1rem;
}
@media (max-width: 991.98px){ .home-spotlight{ grid-template-columns: 1fr; } }

.home-spotlight__h3{
    font-size: clamp(1.05rem, 2.5vw, 1.15rem);
    font-weight: 600; margin: 0 0 .5rem 0;
}

/* Liste des articles */
.home-articles{ list-style: none; padding: 0; margin: 0 0 1rem 0; }
.home-articles li{ margin-bottom: .4rem; }
.home-article-link{ text-decoration: none; color: var(--c-texte); }
.home-article-link:hover{ color: var(--c-vert-dark); text-decoration: underline; }

/* Dernier commentaire */
.home-comment{
    display:block; background: rgba(92,154,116,.12);
    border: 1px solid rgba(0,0,0,.06); border-radius: .75rem;
    padding: .75rem .9rem; color: inherit; text-decoration: none;
}
.home-comment:hover{ background: rgba(92,154,116,.16); }

/* Plantes (2 cartes) */
.home-plants-grid{ display:grid; gap:16px; grid-template-columns: repeat(2, 1fr); }
@media (max-width: 480px){ .home-plants-grid{ grid-template-columns: 1fr 1fr; } }
.home-plant{
    display:block; text-decoration:none; color:inherit;
    background: var(--c-blanccasse);
    border: 1px solid rgba(0,0,0,.06);
    border-radius: .9rem; box-shadow: var(--shadow); overflow: hidden;
}
.home-plant__name{ text-align:center; font-weight: 600; padding: .5rem .25rem .75rem; }

/* Recherche */
.home-plant-search{
    margin-top: 16px; background: #e9f5ee;
    border: 1px solid rgba(0,0,0,.06);
    border-radius: .9rem; padding: .9rem;
}
.home-plant-search__title{ font-weight: 600; margin-bottom: .5rem; }
.home-plant-search__group{ display:flex; gap: 8px; align-items: stretch; }
.home-plant-search__input{
    flex: 1 1 auto; border: 1px solid rgba(0,0,0,.15);
    border-radius: .5rem; padding: .55rem .75rem; background: #fff;
}
.home-plant-search__btn{
    border: 1px solid rgba(0,0,0,.15);
    border-radius: .5rem; padding: .55rem .75rem; background: var(--c-blanccasse);
    cursor: pointer;
}
.home-plant-search__btn:hover{ background:#fff; }

/* Zone interactive plantes */
#home-plants-zone{ position:relative; }
#home-plants-zone:focus-visible{ outline:3px solid var(--c-vert); outline-offset:3px; }

/* motion */
@media (prefers-reduced-motion: reduce){
    .hf-viewport{ scroll-behavior:auto; }
}
.hf-viewport { scroll-snap-stop: always; }

.rating-stars{ display:inline-flex; align-items:center; gap:.25rem; font-size:1.5rem; }
.rating-stars .star-btn{ background:transparent; border:none; padding:.25rem; line-height:1; cursor:pointer; }
.rating-stars .star-btn.is-active{ color:#f1c40f; }
.rating-stars .star-btn:focus-visible{ outline:2px solid var(--c-vert-dark); border-radius:.25rem; }

